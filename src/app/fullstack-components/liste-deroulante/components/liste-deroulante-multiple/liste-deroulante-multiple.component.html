<div class="form row">
  <label *ngIf="label" for="dropdownForm{{formIndex}}" class="col-{{labelColumns}} col-form-label" [ngStyle]="{'width': labelWidth + 'px'}" [ngClass]="{'col-form-label-fix': labelWidth}">{{label}}</label>
  <div class="col-{{inputColumns}} position-relative">
    <div #dropdownRef ngbDropdown class="d-inline-block fake-select-container" placement="bottom-left" (openChange)="openChange($event)" (keyup.enter)="toggleDropdown()">
      <div [tabindex]="disabled ? -1 : 0" class="fake-select" id="dropdownForm{{formIndex}}" [ngClass]="{'fake-select-disabled': disabled}" ngbDropdownToggle>
        {{contentToDisplay ? contentToDisplay : defaultText}}
      </div>
      <div *ngIf="!disabled" ngbDropdownMenu attr.aria-labelledby="dropdownForm{{formIndex}}">

        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="selectAll{{formIndex}}" [formControl]="formSelectAll.get('selectAll')" />
          <label class="form-check-label" for="selectAll{{formIndex}}">
            Tout sélectionner / Tout désélectionner
          </label>
        </div>

        <div class="fake-select-scrollable-content">
          <div class="form-check" *ngFor="let item of form['controls'] | keyvalue; let index = index">
            <input class="form-check-input" type="checkbox" id="checkbox{{formIndex}}-{{index}}" [formControl]="item.value" />
            <label class="form-check-label" for="checkbox{{formIndex}}-{{index}}">
              {{item.key}}
            </label>
          </div>
        </div>

        <div class="d-flex">
          <button type="button" class="btn btn-primary" (click)="valider()">
            <i class="icon-b_valid" aria-hidden="true"></i><span>Valider</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>