// Style général des selects
select.form-select, .fake-select {
  border: 0.071rem solid $input-border; // 1px
  border-bottom-color: $noir;
  border-radius: 0.357rem 0.357rem 0 0; // 5px
  background-color: $blanc;
  font-size: 0.929rem; // 13px
  padding: 0.286rem; // 4px
  width: calc(100% - 1.643rem); // 1.643rem => espace a droite de l'input pour la potentielle icône // 23px
  color: $noir;
  height: 1.857rem; // 26px
  margin-top: 0.143rem; // 2px
  line-height: inherit;

  // Supprime la flèche
  -webkit-appearance: none;
  -moz-appearance: none;

  // Background gris et flèche
  background-image:
    url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' id='Capa_1' x='0px' y='0px' width='10px' height='10px' fill='%23828282' viewBox='0 0 31.999 32' style='enable-background:new 0 0 31.999 32;' xml:space='preserve'%3e%3cg%3e%3cpath d='M31.92,5.021l-14.584,22.5c-0.089,0.138-0.241,0.223-0.406,0.229c-0.004,0-0.009,0-0.014,0 c-0.16,0-0.312-0.076-0.404-0.205L0.096,5.044C-0.015,4.893-0.031,4.69,0.054,4.523C0.139,4.354,0.312,4.25,0.5,4.25h31 c0.183,0,0.352,0.1,0.438,0.261C32.026,4.67,32.019,4.867,31.92,5.021z'/%3e%3c/g%3e%3c/svg%3e"),
    linear-gradient(to right, $select-arrow-bg, $select-arrow-bg);
  background-position:
    top 50% right 0.571rem, // 8px
    100% 0;
  background-size:
    0.714rem 0.714rem, // 10px
    1.857rem 1.857rem; // 26px
  background-repeat: no-repeat;
  padding-right: 2.071rem; // 29px
}

// Supprime la flèche
select.form-select {
  -webkit-appearance: none;
  -moz-appearance: none;
}

// Supprime la flèche pour IE
select::-ms-expand {
  display: none;
}

// Style disabled
select.form-select:disabled, select.form-select[readonly] {
  background-color: $blanc;
  opacity: 0.4;
}

/* Erreur et Warning */

// Couleurs en cas d'erreur
select.error {
  border-color: $input-border-error !important;
  border-bottom-color: $error !important;
}

// Couleurs en cas de warning
select.warning {
  border-color: $input-border-warning !important;
  border-bottom-color: $warning !important;
}

// Override le style focus
select:not(:disabled):not(.disabled):focus, select:not(:disabled):not(.disabled).focus {
  color: $noir;
  border-color: $input-border;
  border-bottom-color: $noir;
}

/** Fake Select **/

// Ellipsis si texte sélectionné trop long
.fake-select {
  text-overflow: ellipsis;
  overflow: hidden;
}

// Supprime la flèche rajouté par ng-bootstrap
.fake-select::after {
  content: none !important;
}

.fake-select-container {
  width: 100%;

  // Pas de bold pour les checkboxes dans les listes
  .form-check .form-check-label {
    font-weight: 400;
  }
}

// Menu ouvert par la fake select
.fake-select-container .dropdown-menu {
  background-color: $white;
  font-size: 0.929rem; // 13px
  border: 0.071rem solid $input-border; // 1px
  border-radius: 0 0 0.357rem 0.357rem; // 5px
  margin: 0;
  border-top-color: $noir;
  top: -0.236rem !important; // -3.3px
  padding: 0.5rem 1rem 0.5rem 0.5rem; // 7px 14px
  white-space: nowrap;
  box-shadow: 0 0.286rem 0.429rem 0 $select-shadow; // 4px 6px
}

.fake-select-disabled {
  opacity: 0.4;
}

// Focus
.fake-select:not(.fake-select-disabled):focus-visible {
  background-color: $blanc;
  outline: 0;
  box-shadow: 0 0 0 0.2rem $focus;
}

/** Liste hiérarchisée **/
.fake-select-container {
  .collapse-icon {
    margin-right: 0.5rem; // 7px
  }

  .collapse-container {
    margin-left: 3.143rem; // 44px
    transform: translate3d(0, 0, 0);
  }

  .btn {
    margin: 0 auto;
    margin-top: 2rem; // 28px
    margin-bottom: 1rem; // 14px // 21px - 7px (padding déjà présent) => 14px
  }

  .fake-select-scrollable-content {
    max-height: 28.571rem; // 400px
    overflow: auto;
    width: calc(100% + 0.5rem); // 0.5rem => padding de la dropdown
  }

  /** FIX SCROLLBAR OVERLAP **/

  /* Firefox */
  @-moz-document url-prefix() {
    .fake-select-scrollable-content {
      padding-right: 1.214rem; // 17px
    }
  }

  /* IE 10+ */
  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .fake-select-scrollable-content {
      padding-right: 1.143rem; // 16px
    }
  }
}

