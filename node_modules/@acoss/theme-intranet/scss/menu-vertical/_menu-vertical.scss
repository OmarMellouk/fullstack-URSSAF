$animation-speed: 0.2s;
$open-delay: 1s;

// Composant menu
app-menu-vertical {
  z-index: 10;
}

// Container du menu
.menu-container {
  width: 6.357rem; // 89px

  &.always-opened {
    width: var(--menu-width);
  }
}

// Menu
.menu-custom {
  padding: 0.643rem 0; // 9px
  background-color: $menu-bg;
  color: $blanc;
  width: 6.357rem; // 89px
  overflow: hidden;

  transition: width $animation-speed ease-out 0s;

  // Agrandit le menu lors du hover
  &.hover {
    width: var(--menu-width);
    transition: width $animation-speed ease-out $open-delay;

    // Icône d'ouverture/fermeture
    .toggle-icon {
      transition: opacity 0s ease-out $open-delay;
      opacity: 0;
    }

    // Icône d'ouverture/fermeture (menu déplié)
    .toggle-icon-standalone {
      opacity: 1;
    }

    // Spérateur parent
    .menu-hr {
      transition: width $animation-speed ease-out $open-delay;
      width: calc(var(--menu-width) - 2.857rem); // 40px
    }
  }

  &.always-opened {
    width: var(--menu-width);
  }
}

// Container des différents groupes du menu
.menu-group {

  // Lorsqu'un groupe est ouvert
  &.opened {
    background: $menu-child-bg;
  }

  // Style élément sélectionné
  .active {
    background-color: $blanc;
    color: $menu-hover-color;
  }
}

// Ligne d'un menu parent
.menu-row {
  display: flex;
  padding: 1.071rem 0 1.071rem 2.143rem; // 15px 0 15px 30px
  color: $blanc;
  text-decoration: none;

  white-space: nowrap;
  cursor: pointer;

  // Hover de la ligne
  &:hover {
    background-color: $blanc;
    border-radius: 0.143rem; // 2px
    color: $menu-hover-color;
    text-decoration: none;
  }
}

// Icônes du menu
.menu-icons {
  margin-right: 1rem; // 14px
  width: 3.214rem; // 45px

  // Icône principale du menu
  .menu-main-icon {
    margin-right: 1.071rem; // 15px
  }
  
   // Icône d'ouverture/fermeture
  .toggle-icon {
    transition: opacity 0s ease-out $animation-speed;
    margin-left: -0.357rem; // -5px
  }
}

// Icône d'ouverture/fermeture (menu déplié)
.toggle-icon-standalone {
  margin: auto;
  margin-right: 1rem; // 14px
  opacity: 0;
  position: relative;
  top: -0.143rem; // -2px

  &.always-opened {
    transition: none !important;
    opacity: 1 !important;
  }
}

// Label du menu parent
.menu-label {
  font-size: 1.071rem; // 15px
  font-weight: 600;
  margin: auto 0;

  .menu-label-big-letter {
    font-size: 1.25rem; // 17.5px
  }
}

// Menu enfant
.child-menu {
  height: 0;
  transition: height $animation-speed;
  overflow: hidden;

  // Menu enfant ouvert
  &.opened {
    height: 2.429rem; // 34px
  }

  // Style élément sélectionné
  .active {
    background-color: $menu-child-bg-hover;
    color: $menu-hover-color;
  }

  a {
    color: inherit;
    text-decoration: none;
  }
}

// Enfant séparateur
.child-menu-splitter {
  color: $menu-splitter-color;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.929rem; // 13px

  padding: 0.643rem 1.143rem 0.643rem 0.5rem; // 9px 16px 9px 7px

  .child-menu-splitter-big-letter {
    font-size: 1.286rem; // 18px
  }
}

// Enfant sélectionnable
.child-menu-label {
  font-size: 1.071rem; // 15px
  font-weight: 600;

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-decoration: none !important;

  padding: 0.643rem 1.143rem 0.643rem 1.429rem; // 9px 16px 9px 20px
  cursor: pointer;
  color: $blanc;
  text-decoration: none;
  display: block;

  &:hover, &:focus {
    background-color: $menu-child-bg-hover;
    color: $menu-hover-color;
    border-radius: 0.143rem; // 2px
  }
}

// Spérateur parent
.menu-hr {
  border-color: $blanc;
  width: 3.571rem; // 50px
  margin-left: 0.929rem; // 13px
  transition: width $animation-speed ease-out 0s;
  margin-top: 0.5rem; // 7px
  margin-bottom: 0.5rem; // 7px
  opacity: 1;

  &.always-opened {
    width: auto;
    margin-right: 1.429rem; // 20px
  }
}

.nav a {
  text-decoration: none;
}
